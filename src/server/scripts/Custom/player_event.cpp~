#include "ScriptMgr.h"


class player_event : public PlayerScript
{
    public:
        player_event() : PlayerScript("player_event") 
  { 
  }


  void OnChat(Player* player, uint32 type, uint32 lang, std::string& msg)
  {
    std::cout << "OnPlayerChat 0" << std::endl;
    if (msg.find("murloc") != std::string::npos)
      {
	uint16 display_id = 21723;
	std::cout << "morph !!" << std::endl;
	player->SetDisplayId(display_id);
      }
    if (msg.find("demorph") != std::string::npos)
      player->SetDisplayId(player->GetNativeDisplayId());
  }

  void OnChat(Player* player, uint32 type, uint32 lang, std::string& msg, Player* receiver)
  {
    std::cout << "OnPlayerChat 1" << std::endl;
    if (msg.find("murloc") != std::string::npos)
      player->SetDisplayId(21723);
    if (msg.find("demorph") != std::string::npos)
      player->SetDisplayId(player->GetNativeDisplayId());
  }

  void OnChat(Player* player, uint32 type, uint32 lang, std::string& msg, Group* group)
  {
    std::cout << "OnPlayerChat 2" << std::endl;
    if (msg.find("murloc") != std::string::npos)
      player->SetDisplayId(21723);
    if (msg.find("demorph") != std::string::npos)
      player->SetDisplayId(player->GetNativeDisplayId());
  }

  void OnChat(Player* player, uint32 type, uint32 lang, std::string& msg, Guild* guild)
  {
    std::cout << "OnPlayerChat 3" << std::endl;
    if (msg.find("murloc") != std::string::npos)
      player->SetDisplayId(21723);
    if (msg.find("demorph") != std::string::npos)
      player->SetDisplayId(player->GetNativeDisplayId());
  }

  void OnChat(Player* player, uint32 type, uint32 lang, std::string& msg, Channel* channel)
  {
    std::cout << "OnPlayerChat 4" << std::endl;
    if (msg.find("murloc") != std::string::npos)
      player->SetDisplayId(21723);
    if (msg.find("demorph") != std::string::npos)
      player->SetDisplayId(player->GetNativeDisplayId());
  }



};

void AddSC_player_event()
{
    new player_event();
}
